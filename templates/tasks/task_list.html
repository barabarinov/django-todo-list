{% extends "base.html" %}

{% block content %}
  <div class="d-flex justify-content-between align-items-center border-bottom mb-2">
    <h1>TODO List</h1>
    <a href="{% url 'tasks:task-create' %}" class="btn btn-primary link-to-page">Add</a>
  </div>

  {% if task_list %}

    <div class="task-info">
      {% for task in task_list %}
        <div class="task">
          <div>
            <p class="fw-bold">- {{ task.content }}
              {% if task.is_done %}
                <span class="text-success">Done</span>
              {% else %}
                <span class="text-danger">Not done</span>
              {% endif %}
              <a href=""></a>
            </p>
          </div>

          <p>Created at: {{ task.created_at }}</p>
          {% if task.deadline %}
            <p>Deadline: {{ task.deadline }}</p>
          {% endif %}
          <p>Tags:
            {% for tag in task.tags.all %}
              {{ tag.name }}
            {% endfor %}
          </p>
          <a class="btn btn-warning" href="{% url 'tasks:task-update' pk=task.id %}">Update</a>
          <a class="btn btn-danger" href="{% url 'tasks:task-delete' pk=task.id %}">Delete</a>
        </div>
        <hr>
      {% endfor %}
    </div>

  {% else %}
    <p>There are no tasks!</p>
  {% endif %}

{% endblock %}
